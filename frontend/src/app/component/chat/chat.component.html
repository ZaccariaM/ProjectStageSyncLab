<p-blockUI [blocked]="noLogin">
</p-blockUI>

<!-- menubar on the top of the screen -->
<div class="w-full fixed top-0 surface-0 shadow-4 pr-3">
    <div class="pt-1">
        <p-menubar>
            <!-- <ng-template pTemplate="start">
                <p-button icon="pi pi-bars" [disabled]="clicked" />
            </ng-template> -->
            <p-button icon="pi pi-sign-out" (click)="logout()" />
        </p-menubar>
    </div>
</div>

<div class="align-content-end" style="min-height: 56em;">   <!-- alignment for few messages -->
    <!-- display all the messages -->
    <div class="flex justify-content-center mb-6 mt-8">
        <div class="flex justify-content-center flex-column lg:w-6">
            @for (item of chat(); track $index) {
            <div class="border-2 border-round-lg p-3 mb-2" style="max-width: 85%;" [ngClass]="{
                'ai-bubble':item.id==='ai',
                'user-bubble':item.id==='user',
            }">{{item.message}}</div>
            }
            <div #show></div>
        </div>
    </div>
</div>

<!-- input bar at the bottom of the screen -->
<div class="flex justify-content-center w-full fixed bottom-0 py-1 surface-0">
    <input class="w-5" type="text" pInputText placeholder="Scrivi un messaggio" [(ngModel)]="inputText" (keydown.enter)="inputText.trim() && send()"/>
    <p-button class="ml-2" [icon]="icon_val" [disabled]="clicked" (click)="inputText.trim() && send()" />
</div>